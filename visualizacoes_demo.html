<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exemplo com Visualiza√ß√µes - Estat√≠stica</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/chapter.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <nav class="top-nav">
        <a href="index.html" class="back-btn">‚Üê Voltar</a>
        <div class="nav-title">Exemplo com Visualiza√ß√µes</div>
        <a href="chapter1.html" class="next-btn">Cap√≠tulo 1 ‚Üí</a>
    </nav>

    <div class="chapter-container">
        <section class="chapter-hero">
            <div class="hero-badge">Demonstra√ß√£o</div>
            <h1 class="chapter-title">Visualiza√ß√µes em Estat√≠stica</h1>
            <p class="chapter-subtitle">Exemplos de como adicionar gr√°ficos e imagens</p>
        </section>

        <!-- EXEMPLO 1: Distribui√ß√£o Normal com Chart.js -->
        <section class="content-section">
            <div class="section-header">
                <span class="section-number">1</span>
                <h2>Distribui√ß√£o Normal (Gr√°fico Interativo)</h2>
            </div>

            <p class="section-intro">
                A curva em sino da distribui√ß√£o normal pode ser visualizada interativamente:
            </p>

            <div class="chart-container" style="position: relative; height: 400px; margin: 2rem 0;">
                <canvas id="normalDistChart"></canvas>
            </div>

            <div class="highlight-box">
                <h3>üìä Caracter√≠sticas da Curva:</h3>
                <ul>
                    <li>Sim√©trica em torno da m√©dia (Œº = 0)</li>
                    <li>68% dos dados entre ¬±1œÉ</li>
                    <li>95% dos dados entre ¬±2œÉ</li>
                    <li>99,7% dos dados entre ¬±3œÉ</li>
                </ul>
            </div>
        </section>

        <!-- EXEMPLO 2: Compara√ß√£o de Distribui√ß√µes -->
        <section class="content-section">
            <div class="section-header">
                <span class="section-number">2</span>
                <h2>Compara√ß√£o: Normal vs t de Student</h2>
            </div>

            <div class="chart-container" style="position: relative; height: 400px; margin: 2rem 0;">
                <canvas id="normalVsTChart"></canvas>
            </div>

            <div class="insight">
                üí° <strong>Observe:</strong> A distribui√ß√£o t (linha vermelha) tem caudas mais pesadas
                que a normal (linha azul). Quanto menor os graus de liberdade, mais achatada √© a curva t.
            </div>
        </section>

        <!-- EXEMPLO 3: Gr√°fico de Dispers√£o e Regress√£o -->
        <section class="content-section">
            <div class="section-header">
                <span class="section-number">3</span>
                <h2>Regress√£o Linear (Scatter Plot)</h2>
            </div>

            <div class="chart-container" style="position: relative; height: 400px; margin: 2rem 0;">
                <canvas id="regressionChart"></canvas>
            </div>

            <div class="formula-box">
                <strong>Equa√ß√£o da Reta:</strong> ≈∑ = 59,5 + 3,75x<br>
                <strong>Correla√ß√£o:</strong> r = 0,985 (muito forte!)<br>
                <strong>R¬≤:</strong> 97% da varia√ß√£o explicada
            </div>
        </section>

        <!-- EXEMPLO 4: Gr√°fico de Barras (Qui-Quadrado) -->
        <section class="content-section">
            <div class="section-header">
                <span class="section-number">4</span>
                <h2>Teste Qui-Quadrado (Observado vs Esperado)</h2>
            </div>

            <div class="chart-container" style="position: relative; height: 400px; margin: 2rem 0;">
                <canvas id="chiSquareChart"></canvas>
            </div>

            <div class="calculation">
                œá¬≤ = Œ£[(O - E)¬≤ / E] = 9,09<br>
                Valor cr√≠tico (Œ±=0,05): 3,841<br>
                <strong>Conclus√£o: Rejeitar H‚ÇÄ (h√° associa√ß√£o!)</strong>
            </div>
        </section>

        <!-- EXEMPLO 5: Box Plot -->
        <section class="content-section">
            <div class="section-header">
                <span class="section-number">5</span>
                <h2>Box Plot (Compara√ß√£o de Grupos)</h2>
            </div>

            <div class="chart-container" style="position: relative; height: 400px; margin: 2rem 0;">
                <canvas id="boxPlotChart"></canvas>
            </div>

            <div class="highlight-box">
                <h3>üì¶ Interpreta√ß√£o do Box Plot:</h3>
                <ul>
                    <li><strong>Linha central:</strong> Mediana</li>
                    <li><strong>Caixa:</strong> Intervalo interquartil (Q1 a Q3)</li>
                    <li><strong>Bigodes:</strong> Valores m√≠nimo e m√°ximo (sem outliers)</li>
                    <li><strong>Pontos:</strong> Outliers</li>
                </ul>
            </div>
        </section>

        <!-- EXEMPLO 6: Diagrama SVG (Regra 68-95-99.7) -->
        <section class="content-section">
            <div class="section-header">
                <span class="section-number">6</span>
                <h2>Regra 68-95-99,7 (Diagrama SVG)</h2>
            </div>

            <div style="background: white; padding: 2rem; border-radius: 10px; margin: 2rem 0;">
                <svg viewBox="0 0 800 400" style="width: 100%; height: auto;">
                    <!-- Curva Normal -->
                    <path d="M 50 350 Q 400 50, 750 350" fill="none" stroke="#667eea" stroke-width="3" />

                    <!-- √Åreas coloridas -->
                    <!-- 68% (¬±1œÉ) -->
                    <rect x="250" y="100" width="300" height="250" fill="rgba(102, 126, 234, 0.2)" stroke="#667eea"
                        stroke-width="2" stroke-dasharray="5,5" />

                    <!-- 95% (¬±2œÉ) -->
                    <rect x="150" y="100" width="500" height="250" fill="rgba(118, 75, 162, 0.1)" stroke="#764ba2"
                        stroke-width="2" stroke-dasharray="5,5" />

                    <!-- Linha central (m√©dia) -->
                    <line x1="400" y1="50" x2="400" y2="350" stroke="#ff6b6b" stroke-width="2"
                        stroke-dasharray="10,5" />

                    <!-- Labels -->
                    <text x="400" y="30" text-anchor="middle" font-size="18" font-weight="bold" fill="#333">Œº</text>

                    <text x="250" y="380" text-anchor="middle" font-size="14" fill="#667eea">Œº - œÉ</text>
                    <text x="400" y="380" text-anchor="middle" font-size="14" fill="#ff6b6b">Œº</text>
                    <text x="550" y="380" text-anchor="middle" font-size="14" fill="#667eea">Œº + œÉ</text>

                    <text x="150" y="380" text-anchor="middle" font-size="14" fill="#764ba2">Œº - 2œÉ</text>
                    <text x="650" y="380" text-anchor="middle" font-size="14" fill="#764ba2">Œº + 2œÉ</text>

                    <!-- Percentuais -->
                    <text x="400" y="200" text-anchor="middle" font-size="20" font-weight="bold"
                        fill="#667eea">68%</text>
                    <text x="400" y="150" text-anchor="middle" font-size="20" font-weight="bold"
                        fill="#764ba2">95%</text>
                </svg>
            </div>
        </section>

        <!-- EXEMPLO 7: Teste de Hip√≥tese Visual -->
        <section class="content-section">
            <div class="section-header">
                <span class="section-number">7</span>
                <h2>Teste de Hip√≥tese (Regi√µes Cr√≠ticas)</h2>
            </div>

            <div class="chart-container" style="position: relative; height: 400px; margin: 2rem 0;">
                <canvas id="hypothesisTestChart"></canvas>
            </div>

            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>Tipo de Teste</th>
                            <th>Regi√£o de Rejei√ß√£o</th>
                            <th>Cor no Gr√°fico</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Bilateral</td>
                            <td>Ambas as caudas</td>
                            <td>üî¥ Vermelho</td>
                        </tr>
                        <tr>
                            <td>Unilateral Direita</td>
                            <td>Cauda direita</td>
                            <td>üü† Laranja</td>
                        </tr>
                        <tr>
                            <td>Unilateral Esquerda</td>
                            <td>Cauda esquerda</td>
                            <td>üü° Amarelo</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <div class="highlight-box" style="margin: 3rem 0;">
            <h2>üí° Como Adicionar Visualiza√ß√µes aos Cap√≠tulos</h2>
            <h3>Op√ß√£o 1: Chart.js (Recomendado) ‚úÖ</h3>
            <ul>
                <li>‚úÖ Gr√°ficos interativos e bonitos</li>
                <li>‚úÖ F√°cil de implementar</li>
                <li>‚úÖ Responsivo</li>
                <li>‚úÖ Muitos tipos: linha, barra, scatter, etc.</li>
                <li>‚úÖ Apenas adicionar CDN no HTML</li>
            </ul>

            <h3>Op√ß√£o 2: SVG Inline ‚úÖ</h3>
            <ul>
                <li>‚úÖ Leve e r√°pido</li>
                <li>‚úÖ Escal√°vel</li>
                <li>‚úÖ Controle total</li>
                <li>‚úÖ N√£o precisa de bibliotecas externas</li>
            </ul>

            <h3>Op√ß√£o 3: Imagens Geradas com IA üé®</h3>
            <ul>
                <li>‚úÖ Conceitos visuais complexos</li>
                <li>‚úÖ Ilustra√ß√µes did√°ticas</li>
                <li>‚úÖ Exemplos do mundo real</li>
                <li>‚ùå Precisa gerar cada imagem</li>
            </ul>
        </div>
    </div>

    <script>
        // 1. DISTRIBUI√á√ÉO NORMAL
        const normalCtx = document.getElementById('normalDistChart').getContext('2d');

        // Gerar dados da curva normal
        function normalPDF(x, mu = 0, sigma = 1) {
            return (1 / (sigma * Math.sqrt(2 * Math.PI))) *
                Math.exp(-0.5 * Math.pow((x - mu) / sigma, 2));
        }

        const xValues = [];
        const yValues = [];
        for (let x = -4; x <= 4; x += 0.1) {
            xValues.push(x);
            yValues.push(normalPDF(x));
        }

        new Chart(normalCtx, {
            type: 'line',
            data: {
                labels: xValues,
                datasets: [{
                    label: 'Distribui√ß√£o Normal (Œº=0, œÉ=1)',
                    data: yValues,
                    borderColor: '#667eea',
                    backgroundColor: 'rgba(102, 126, 234, 0.1)',
                    fill: true,
                    tension: 0.4,
                    pointRadius: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: true },
                    title: {
                        display: true,
                        text: 'Curva Normal Padr√£o (Z)',
                        font: { size: 16 }
                    }
                },
                scales: {
                    x: {
                        title: { display: true, text: 'Z (desvios padr√£o)' }
                    },
                    y: {
                        title: { display: true, text: 'Densidade' }
                    }
                }
            }
        });

        // 2. NORMAL VS T
        const tCtx = document.getElementById('normalVsTChart').getContext('2d');

        const yNormal = xValues.map(x => normalPDF(x));
        const yT5 = xValues.map(x => normalPDF(x, 0, 1.2)); // Aproxima√ß√£o t com gl=5

        new Chart(tCtx, {
            type: 'line',
            data: {
                labels: xValues,
                datasets: [
                    {
                        label: 'Normal',
                        data: yNormal,
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        fill: false,
                        tension: 0.4,
                        pointRadius: 0
                    },
                    {
                        label: 't (gl=5)',
                        data: yT5,
                        borderColor: '#ff6b6b',
                        backgroundColor: 'rgba(255, 107, 107, 0.1)',
                        fill: false,
                        tension: 0.4,
                        pointRadius: 0,
                        borderDash: [5, 5]
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Compara√ß√£o: Normal vs t de Student',
                        font: { size: 16 }
                    }
                }
            }
        });

        // 3. REGRESS√ÉO LINEAR
        const regCtx = document.getElementById('regressionChart').getContext('2d');

        const studyData = [
            { x: 2, y: 65 },
            { x: 4, y: 75 },
            { x: 6, y: 85 },
            { x: 8, y: 90 },
            { x: 10, y: 95 }
        ];

        const regressionLine = [];
        for (let x = 0; x <= 12; x += 0.5) {
            regressionLine.push({ x: x, y: 59.5 + 3.75 * x });
        }

        new Chart(regCtx, {
            type: 'scatter',
            data: {
                datasets: [
                    {
                        label: 'Dados Observados',
                        data: studyData,
                        backgroundColor: '#667eea',
                        pointRadius: 8
                    },
                    {
                        label: 'Reta de Regress√£o',
                        data: regressionLine,
                        type: 'line',
                        borderColor: '#ff6b6b',
                        borderWidth: 2,
                        pointRadius: 0,
                        fill: false
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Horas de Estudo vs Nota',
                        font: { size: 16 }
                    }
                },
                scales: {
                    x: {
                        title: { display: true, text: 'Horas de Estudo' },
                        min: 0,
                        max: 12
                    },
                    y: {
                        title: { display: true, text: 'Nota' },
                        min: 50,
                        max: 100
                    }
                }
            }
        });

        // 4. QUI-QUADRADO
        const chiCtx = document.getElementById('chiSquareChart').getContext('2d');

        new Chart(chiCtx, {
            type: 'bar',
            data: {
                labels: ['Masc/Prod A', 'Masc/Prod B', 'Fem/Prod A', 'Fem/Prod B'],
                datasets: [
                    {
                        label: 'Observado',
                        data: [30, 20, 15, 35],
                        backgroundColor: '#667eea'
                    },
                    {
                        label: 'Esperado',
                        data: [22.5, 27.5, 22.5, 27.5],
                        backgroundColor: '#ff6b6b'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'G√™nero vs Prefer√™ncia de Produto',
                        font: { size: 16 }
                    }
                },
                scales: {
                    y: {
                        title: { display: true, text: 'Frequ√™ncia' },
                        beginAtZero: true
                    }
                }
            }
        });

        // 5. BOX PLOT
        const boxCtx = document.getElementById('boxPlotChart').getContext('2d');

        new Chart(boxCtx, {
            type: 'bar',
            data: {
                labels: ['M√©todo A', 'M√©todo B', 'M√©todo C'],
                datasets: [{
                    label: 'M√©dia',
                    data: [88.75, 78.75, 83.75],
                    backgroundColor: ['#667eea', '#764ba2', '#f093fb']
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Compara√ß√£o de M√©dias (ANOVA)',
                        font: { size: 16 }
                    }
                },
                scales: {
                    y: {
                        title: { display: true, text: 'Nota M√©dia' },
                        min: 70,
                        max: 95
                    }
                }
            }
        });

        // 6. TESTE DE HIP√ìTESE
        const hypCtx = document.getElementById('hypothesisTestChart').getContext('2d');

        const criticalValue = 1.96;
        const testStatistic = 2.47;

        new Chart(hypCtx, {
            type: 'line',
            data: {
                labels: xValues,
                datasets: [
                    {
                        label: 'Distribui√ß√£o sob H‚ÇÄ',
                        data: yNormal,
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        fill: true,
                        tension: 0.4,
                        pointRadius: 0
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Teste Bilateral (Œ± = 0.05)',
                        font: { size: 16 }
                    },
                    annotation: {
                        annotations: {
                            line1: {
                                type: 'line',
                                xMin: criticalValue,
                                xMax: criticalValue,
                                borderColor: 'red',
                                borderWidth: 2,
                                label: {
                                    content: 'z = 1.96',
                                    enabled: true
                                }
                            },
                            line2: {
                                type: 'line',
                                xMin: -criticalValue,
                                xMax: -criticalValue,
                                borderColor: 'red',
                                borderWidth: 2,
                                label: {
                                    content: 'z = -1.96',
                                    enabled: true
                                }
                            }
                        }
                    }
                }
            }
        });
    </script>
</body>

</html>